<!-- Page title -->
<h1><%= title %></h1>

<!-- Flash messages display -->
<% if (typeof messages !== 'undefined' && messages) { %>
  <%- messages() %>
<% } %>

<!-- Display validation errors -->
<% if (errors) { %>
  <ul class="notice">
    <% errors.array().forEach(error => { %>
      <li><%= error.msg %></li>
    <%  }) %>
  </ul>
<% } %>

<main class="account-register">
  <!-- Registration form -->
  <form method="post" action="/account/register" class="register-form">
    
    <!-- First Name field (sticky) -->
    <label for="account_firstname">
      First Name
      <input
        type="text"
        id="account_firstname"
        name="account_firstname"
        required
        value="<%= locals.account_firstname || '' %>"
        placeholder="Enter your first name"
      >
    </label>

    <!-- Last Name field (sticky) -->
    <label for="account_lastname">
      Last Name
      <input
        type="text"
        id="account_lastname"
        name="account_lastname"
        required
        value="<%= locals.account_lastname || '' %>"
        placeholder="Enter your last name"
      >
    </label>

    <!-- Email field (sticky) -->
    <label for="account_email">
      Email Address
      <input
        type="email"
        id="account_email"
        name="account_email"
        required
        value="<%= locals.account_email || '' %>"
        placeholder="Enter your email"
      >
    </label>

    <!-- Password field (NOT sticky for security) -->
    <label for="account_password">
      Password
      <input
        type="password"
        id="account_password"
        name="account_password"
        required
        pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{12,}$"
        title="Password must be at least 12 characters and contain at least 1 uppercase letter, 1 lowercase letter, 1 number, and 1 special character (@$!%*?&)"
        placeholder="Enter your password"
      >
      <span class="password-hint">Must be at least 12 characters with uppercase, lowercase, number, and special character</span>
    </label>

    <!--  Submit button -->
    <button type="submit" class="register-btn">Register</button>
  </form>

  <!-- Link to login page -->
  <p class="login-link">
    Already have an account?
    <a href="/account/login">Login here</a>
  </p>
</main>